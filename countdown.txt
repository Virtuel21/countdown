<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrousel Mondial Relay avec Countdown</title>
</head>
<body>

<!-- CSS AM√âLIOR√â AVEC COUNTDOWN -->
<style>
/* === STYLES EXISTANTS DU CARROUSEL === */
.snrs-item {
    border-radius: 20px;
    cursor: pointer;
    margin: auto;
    position: relative;
}

.snrs-button {
    background-color: white;
    border-radius: 10px;
    position: absolute;
    bottom: 8%;
    right: 5%;
    color: #96154a;
    border-radius: 50px;
    overflow: hidden;
    display: flex;
    align-items: center;
    gap: unset;
    background-color: #fff;
    padding: 18px 90px;
    text-decoration: none;
    font-weight: 700;
    font-size: 25px !important;
    font-family: roboto, sans-serif;
    text-wrap: nowrap;
    z-index: 10; /* Assure que le bouton reste au-dessus du countdown */
}

.snrs-button img {
    max-width: 20px !important;
    max-height: 20px !important;
    min-width: initial !important;
    min-height: initial !important;
}

.snrs-carousel {
    max-width: calc(100% - 40px);
    overflow: hidden;
    margin: 20px auto;
}

.snrs-carousel .slick-dots {
    display: flex !important;
    display: -webkit-box;
    display: -moz-box;
    display: -ms-flexbox;
    display: -webkit-flex;
    justify-content: center;
    align-items: center;
    padding-top: 15px;
    padding-bottom: 10px;
}

.snrs-carousel .slick-dots li {
    width: 15.79px;
    height: 15.947px;
    color: transparent;
    margin: 5px;
    border-radius: 50px;
    box-shadow: 0 0 18px -2px #000;
    cursor: pointer;
    background: #fff;
    transition: .3s ease-in-out;
    background: white;
}

.snrs-carousel .slick-dots li.slick-active {
    box-shadow: 0 0 18px 2px #000;
    background: grey;
}

.snrs-carousel .slick-track {
    display: flex;
}

.snrs-item-img-mobile {
    display: none !important;
}

.snrs-item-img-desktop {
    width: 100%;
    max-width: initial !important;
    border-radius: 20px !important;
}

/* === NOUVEAU : STYLES DU COUNTDOWN === */
.snrs-countdown-wrapper {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 5;
    display: none; /* Cach√© par d√©faut, activ√© via data-attribute */
}

.snrs-item[data-has-countdown="true"] .snrs-countdown-wrapper {
    display: block;
}

.snrs-countdown {
    background: linear-gradient(135deg, #96154a 0%, #701c45 100%);
    padding: 25px 35px;
    border-radius: 20px;
    box-shadow: 0 10px 40px rgba(150, 21, 74, 0.4), 0 0 120px rgba(255, 192, 5, 0.2);
    border: 3px solid #FFC005;
    position: relative;
    overflow: hidden;
    animation: pulse-glow 2s ease-in-out infinite;
}

@keyframes pulse-glow {
    0%, 100% {
        box-shadow: 0 10px 40px rgba(150, 21, 74, 0.4), 0 0 120px rgba(255, 192, 5, 0.2);
    }
    50% {
        box-shadow: 0 15px 60px rgba(150, 21, 74, 0.6), 0 0 150px rgba(255, 192, 5, 0.35);
    }
}

.snrs-countdown::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(45deg, transparent, rgba(255, 192, 5, 0.1), transparent);
    transform: rotate(45deg);
    animation: shine 3s ease-in-out infinite;
}

@keyframes shine {
    0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
    100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
}

.snrs-countdown-header {
    text-align: center;
    margin-bottom: 20px;
}

.snrs-countdown-title {
    color: #FFC005;
    font-size: 18px;
    font-weight: 900;
    text-transform: uppercase;
    letter-spacing: 2px;
    margin: 0 0 5px 0;
    font-family: 'Roboto', sans-serif;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    animation: flash 1.5s ease-in-out infinite;
}

@keyframes flash {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.8; }
}

.snrs-countdown-subtitle {
    color: #fff;
    font-size: 14px;
    font-weight: 500;
    margin: 0;
    font-family: 'Roboto', sans-serif;
    opacity: 0.95;
}

.snrs-countdown-timer {
    display: flex;
    justify-content: center;
    gap: 15px;
}

.snrs-countdown-block {
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(10px);
    border-radius: 12px;
    padding: 12px 15px;
    min-width: 65px;
    border: 1px solid rgba(255, 192, 5, 0.3);
    position: relative;
}

.snrs-countdown-block::after {
    content: '';
    position: absolute;
    bottom: -5px;
    left: 50%;
    transform: translateX(-50%);
    width: 80%;
    height: 2px;
    background: #FFC005;
    box-shadow: 0 2px 10px rgba(255, 192, 5, 0.5);
}

.snrs-countdown-number {
    display: block;
    color: #fff;
    font-size: 32px;
    font-weight: 900;
    line-height: 1;
    font-family: 'Roboto', sans-serif;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
}

.snrs-countdown-label {
    display: block;
    color: #FFC005;
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    margin-top: 5px;
    font-family: 'Roboto', sans-serif;
    letter-spacing: 1px;
}

/* === RESPONSIVE === */
@media only screen and (max-width: 768px) {
    .snrs-item-img-mobile {
        display: block !important;
        width: 100%;
    }
    
    .snrs-carousel {
        max-width: 100%;
        overflow: hidden;
        margin: auto;
    }
    
    .snrs-item-img-desktop {
        display: none;
    }
    
    .snrs-button img {
        display: none;
    }
    
    /* Adaptation du countdown pour mobile */
    .snrs-countdown {
        padding: 15px 20px;
        max-width: 90%;
    }
    
    .snrs-countdown-title {
        font-size: 14px;
        letter-spacing: 1px;
    }
    
    .snrs-countdown-subtitle {
        font-size: 12px;
    }
    
    .snrs-countdown-timer {
        gap: 8px;
    }
    
    .snrs-countdown-block {
        padding: 8px 10px;
        min-width: 50px;
    }
    
    .snrs-countdown-number {
        font-size: 24px;
    }
    
    .snrs-countdown-label {
        font-size: 9px;
    }
}

@media only screen and (max-width: 480px) {
    .snrs-countdown {
        padding: 12px 15px;
    }
    
    .snrs-countdown-title {
        font-size: 12px;
    }
    
    .snrs-countdown-subtitle {
        font-size: 11px;
    }
    
    .snrs-countdown-timer {
        gap: 5px;
    }
    
    .snrs-countdown-block {
        padding: 6px 8px;
        min-width: 42px;
    }
    
    .snrs-countdown-number {
        font-size: 20px;
    }
    
    .snrs-countdown-label {
        font-size: 8px;
        letter-spacing: 0.5px;
    }
}

@media only screen and (max-width: 1008px) {
    .snrs-button {
        width: 144px;
        display: flex;
        justify-content: center;
        font-size: 14px !important;
        height: 32px;
    }
}

/* Assurer que le countdown reste bien centr√© en mode paysage */
@media only screen and (max-width: 768px) and (orientation: landscape) {
    .snrs-countdown {
        padding: 10px 15px;
    }
    
    .snrs-countdown-number {
        font-size: 20px;
    }
}
</style>

<!-- HTML DU CARROUSEL AVEC COUNTDOWN -->
<div class="snrs-carousel">
    <!-- Slide 1 avec COUNTDOWN actif (vente flash) -->
    <div class="snrs-item" id="snrs-slide-1" data-has-countdown="true">
        <img
            alt="Vente Flash - Retirez vos colis en moins de 6h pour tenter de gagner 1 voyage en Laponie et de nombreux lots !"
            src="https://upload.snrcdn.net/089654187a7f3816659495cc1fcb80a7356a4069/default/origin/adda597c746f43d1a8587055f446a628.png"
            class="snrs-item-img-desktop"
        />
        <img
            alt="Vente Flash - Retirez vos colis en moins de 6h pour tenter de gagner 1 voyage en Laponie et de nombreux lots !"
            src="https://upload.snrcdn.net/089654187a7f3816659495cc1fcb80a7356a4069/default/origin/9854c513e6cf496cbbd58a9988fbe867.png"
            class="snrs-item-img-mobile"
        />
        
        <!-- COUNTDOWN OVERLAY -->
        <div class="snrs-countdown-wrapper">
            <div class="snrs-countdown" data-countdown-end="2025-11-10 23:59:59">
                <div class="snrs-countdown-header">
                    <h3 class="snrs-countdown-title">üî• VENTE FLASH üî•</h3>
                    <p class="snrs-countdown-subtitle">L'offre se termine dans</p>
                </div>
                <div class="snrs-countdown-timer">
                    <div class="snrs-countdown-block">
                        <span class="snrs-countdown-number" data-days>00</span>
                        <span class="snrs-countdown-label">Jours</span>
                    </div>
                    <div class="snrs-countdown-block">
                        <span class="snrs-countdown-number" data-hours>00</span>
                        <span class="snrs-countdown-label">Heures</span>
                    </div>
                    <div class="snrs-countdown-block">
                        <span class="snrs-countdown-number" data-minutes>00</span>
                        <span class="snrs-countdown-label">Minutes</span>
                    </div>
                    <div class="snrs-countdown-block">
                        <span class="snrs-countdown-number" data-seconds>00</span>
                        <span class="snrs-countdown-label">Secondes</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Button for user action -->
        <div class="snrs-button">
            Je fonce<img src="/images/Responsive/chevron.svg" alt="icone chevron" />
        </div>
    </div>
    <!-- END of Slide 1 -->
    
    <!-- Slide 2 (sans countdown) -->
    <div class="snrs-item" id="snrs-slide-2" data-has-countdown="true">
        <img
            alt="Soutenez Les Petits Fr√®res des Pauvres en envoyant gratuitement vos cr√©ations tricot√©es"
            src="https://upload.snrcdn.net/089654187a7f3816659495cc1fcb80a7356a4069/default/origin/071679018eaa455e9f8a31fa3606d2b7.png"
            class="snrs-item-img-desktop"
        />
        <img
            alt="Soutenez Les Petits Fr√®res des Pauvres en envoyant gratuitement vos cr√©ations tricot√©es"
            src="https://upload.snrcdn.net/089654187a7f3816659495cc1fcb80a7356a4069/default/origin/16d097437d234a5fba06753a25899bbc.png"
            class="snrs-item-img-mobile"
        />
        <!-- Button for user action -->
        <div class="snrs-button">
            Je participe<img src="/images/Responsive/chevron.svg" alt="icone chevron" />
        </div>
    </div>
    <!-- END of Slide 2 -->
</div>

<!-- JAVASCRIPT AM√âLIOR√â AVEC COUNTDOWN -->
<script>
(() => {
    // === SLICK CAROUSEL (code existant) ===
    (function (i) { "use strict"; "function" == typeof define && define.amd ? define(["jquery"], i) : "undefined" != typeof exports ? module.exports = i(require("jquery")) : i(jQuery) })(function (i) {
        "use strict"; i.fn.slick = function () { var e, t, o = this, s = 0, n = Date.now(); return e = { slicked: !1 }, t = s++, e.options = { dots: !1, infinite: !0, speed: 300, slidesToShow: 1, slidesToScroll: 1, autoplay: !0, autoplaySpeed: 3e3, arrows: !0, prevArrow: '<button type="button" class="slick-prev">Previous</button>', nextArrow: '<button type="button" class="slick-next">Next</button>' }, o.each(function (o, s) { e.$slider = i(s), e.$slider.addClass("slick-slider"), e.$slides = e.$slider.children(), e.slideCount = e.$slides.length, e.currentSlide = 0, e.$slider.attr("id") || e.$slider.attr("id", "slick-" + n + "-" + t), e.$slider.find(".slick-slide").each(function (e, t) { i(t).attr("data-slick-index", e) }); var a = e.$slider.find(".slick-slide:not(.slick-cloned)"); e.$slides = a, e.slideCount = e.$slides.length; var r = function () { e.$slider.trigger("afterChange", [e, e.currentSlide]) }, l = function () { e.$slider.trigger("beforeChange", [e, e.currentSlide, e.currentSlide]) }; e.changeSlide = function (t) { var o = e.currentSlide; l(), e.currentSlide = t, e.$slides.removeClass("slick-active"), e.$slides.eq(e.currentSlide).addClass("slick-active"), e.options.dots && (e.$dots.find("li").removeClass("slick-active"), e.$dots.find("li").eq(e.currentSlide).addClass("slick-active")), r() }, e.init = function () { e.options = i.extend({}, t, e.$slider.data()); var o = e.$slider.children().clone(); e.$slider.empty(), e.$slider.append('<div class="slick-list"><div class="slick-track"></div></div>'); var s = e.$slider.find(".slick-track"); o.each(function (e, t) { s.append(t) }), e.$slides = s.children(".slick-slide"), e.slideCount = e.$slides.length, e.$slides.each(function (e, t) { i(t).attr("data-slick-index", e) }), e.$slides.eq(e.currentSlide).addClass("slick-active"), e.options.dots && (e.$slider.append('<ul class="slick-dots"></ul>'), e.$dots = e.$slider.find(".slick-dots"), e.$slides.each(function (t) { e.$dots.append('<li><button type="button">' + (t + 1) + "</button></li>") }), e.$dots.find("li").eq(e.currentSlide).addClass("slick-active"), e.$dots.on("click", "li", function () { var t = i(this).index(); e.currentSlide !== t && e.changeSlide(t) })), e.options.arrows && (e.$prevArrow = i(e.options.prevArrow).addClass("slick-arrow"), e.$nextArrow = i(e.options.nextArrow).addClass("slick-arrow"), e.$slider.append(e.$prevArrow), e.$slider.append(e.$nextArrow), e.$prevArrow.on("click", function () { var i = e.currentSlide - 1; i < 0 && (i = e.slideCount - 1), e.changeSlide(i) }), e.$nextArrow.on("click", function () { var i = e.currentSlide + 1; i >= e.slideCount && (i = 0), e.changeSlide(i) })), e.options.autoplay && (e.autoPlay = function () { e.autoPlayTimer = setInterval(function () { var i = e.currentSlide + 1; i >= e.slideCount && (i = 0), e.changeSlide(i) }, e.options.autoplaySpeed) }, e.autoPlay()), e.slicked = !0 }, e.init() }), o }
    });
    
    let isDragging = false;
    
    $('.snrs-carousel')
    .slick({
        dots: true,
        nav: false,
        infinite: true,
        arrows: false,
        speed: 300,
        autoplay: true,
        autoplaySpeed: 5000,
        slidesToShow: 1,
        slidesToScroll: 1,
    })
    .on('beforeChange', function () {
        isDragging = true;
    })
    .on('afterChange', function () {
        setTimeout(function () {
            isDragging = false;
        }, 0);
    })
    .on('click', '#snrs-slide-1', function (e) {
        if (isDragging) {
            e.preventDefault();
            return false;
        } else {
            console.log('clicked');
            sendClickEvent('baner_1', 'https://mondialrelay.qualifioapp.com/quiz/1685844_2975/6H-FONCEZGAGNEZ.html?utm_source=web&utm_medium=banner&utm_campaign=6H-FONCEZGAGNEZ')
        }
    })
    .on('click', '#snrs-slide-2', function (e) {
        if (isDragging) {
            e.preventDefault();
            return false;
        } else {
            console.log('clicked');
            sendClickEvent('baner_2', 'https://www.mondialrelay.fr/mr/qui-sommes-nous/decouvrez-la-responsabilite-sociale-societale-de-notre-entreprise')
        }
    });
    
    function sendClickEvent(baner, link){
        SR.event.trackCustomEvent('dynamicContent.click', {
            'location': window.location.href,
            'id': '5cae7b22-a540-400a-b2ba-900144d0dc77',
            'title': `[Carousel][homepage] ${baner}`,
            'device': SyneriseTC.os.mobile ? 'mobile' : 'desktop',
        })
        setTimeout(() => {
            window.location.href = link
        }, 100)
    }
    
    // === NOUVEAU : FONCTION COUNTDOWN ===
    class CountdownTimer {
        constructor(element) {
            this.element = element;
            this.endDate = new Date(element.dataset.countdownEnd).getTime();
            this.daysEl = element.querySelector('[data-days]');
            this.hoursEl = element.querySelector('[data-hours]');
            this.minutesEl = element.querySelector('[data-minutes]');
            this.secondsEl = element.querySelector('[data-seconds]');
            
            if (this.endDate && !isNaN(this.endDate)) {
                this.startCountdown();
            }
        }
        
        startCountdown() {
            // Mise √† jour imm√©diate
            this.updateDisplay();
            
            // Puis mise √† jour chaque seconde
            this.interval = setInterval(() => {
                this.updateDisplay();
            }, 1000);
        }
        
        updateDisplay() {
            const now = new Date().getTime();
            const distance = this.endDate - now;
            
            if (distance < 0) {
                // Countdown termin√©
                clearInterval(this.interval);
                this.daysEl.textContent = '00';
                this.hoursEl.textContent = '00';
                this.minutesEl.textContent = '00';
                this.secondsEl.textContent = '00';
                
                // Optionnel : masquer le countdown ou afficher un message
                // this.element.closest('.snrs-countdown-wrapper').style.display = 'none';
                return;
            }
            
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);
            
            // Mettre √† jour l'affichage avec padding zero
            this.daysEl.textContent = String(days).padStart(2, '0');
            this.hoursEl.textContent = String(hours).padStart(2, '0');
            this.minutesEl.textContent = String(minutes).padStart(2, '0');
            this.secondsEl.textContent = String(seconds).padStart(2, '0');
        }
        
        destroy() {
            if (this.interval) {
                clearInterval(this.interval);
            }
        }
    }
    
    // Initialiser tous les countdowns pr√©sents sur la page
    document.addEventListener('DOMContentLoaded', function() {
        const countdowns = document.querySelectorAll('.snrs-countdown[data-countdown-end]');
        countdowns.forEach(countdown => {
            new CountdownTimer(countdown);
        });
    });
    
    // Si le DOM est d√©j√† charg√©
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', function() {
            const countdowns = document.querySelectorAll('.snrs-countdown[data-countdown-end]');
            countdowns.forEach(countdown => {
                new CountdownTimer(countdown);
            });
        });
    } else {
        const countdowns = document.querySelectorAll('.snrs-countdown[data-countdown-end]');
        countdowns.forEach(countdown => {
            new CountdownTimer(countdown);
        });
    }
})();
</script>

<!-- 
====================================
    GUIDE D'UTILISATION DU COUNTDOWN
====================================

1. ACTIVATION DU COUNTDOWN SUR UN SLIDE :
   - Ajouter l'attribut data-has-countdown="true" sur le div .snrs-item
   - Le countdown ne s'affichera que sur les slides avec cet attribut

2. CONFIGURATION DE LA DATE DE FIN :
   - Modifier l'attribut data-countdown-end sur le div .snrs-countdown
   - Format : "YYYY-MM-DD HH:MM:SS" (ex: "2025-11-10 23:59:59")

3. PERSONNALISATION DU TEXTE :
   - Titre : Modifier le contenu de .snrs-countdown-title
   - Sous-titre : Modifier le contenu de .snrs-countdown-subtitle
   - Labels : Modifier les .snrs-countdown-label (Jours, Heures, Minutes, Secondes)

4. PERSONNALISATION DES COULEURS (dans le CSS) :
   - Couleur principale (rose Mondial) : #96154a
   - Couleur accent (jaune) : #FFC005
   - Pour modifier : chercher ces valeurs hexad√©cimales dans le CSS

5. EXEMPLE D'AJOUT D'UN NOUVEAU SLIDE AVEC COUNTDOWN :
   
   <div class="snrs-item" id="snrs-slide-3" data-has-countdown="true">
       <img src="votre-image-desktop.jpg" class="snrs-item-img-desktop" />
       <img src="votre-image-mobile.jpg" class="snrs-item-img-mobile" />
       
       <div class="snrs-countdown-wrapper">
           <div class="snrs-countdown" data-countdown-end="2025-12-31 23:59:59">
               <div class="snrs-countdown-header">
                   <h3 class="snrs-countdown-title">üéÅ OFFRE LIMIT√âE üéÅ</h3>
                   <p class="snrs-countdown-subtitle">Plus que</p>
               </div>
               <div class="snrs-countdown-timer">
                   <div class="snrs-countdown-block">
                       <span class="snrs-countdown-number" data-days>00</span>
                       <span class="snrs-countdown-label">J</span>
                   </div>
                   <div class="snrs-countdown-block">
                       <span class="snrs-countdown-number" data-hours>00</span>
                       <span class="snrs-countdown-label">H</span>
                   </div>
                   <div class="snrs-countdown-block">
                       <span class="snrs-countdown-number" data-minutes>00</span>
                       <span class="snrs-countdown-label">M</span>
                   </div>
                   <div class="snrs-countdown-block">
                       <span class="snrs-countdown-number" data-seconds>00</span>
                       <span class="snrs-countdown-label">S</span>
                   </div>
               </div>
           </div>
       </div>
       
       <div class="snrs-button">
           J'en profite<img src="/images/Responsive/chevron.svg" alt="icone chevron" />
       </div>
   </div>

6. D√âSACTIVER LE COUNTDOWN :
   - Changer data-has-countdown="true" en data-has-countdown="false"
   - Ou simplement retirer l'attribut data-has-countdown

7. NOTES IMPORTANTES :
   - Le countdown se met √† jour automatiquement chaque seconde
   - Quand le temps est √©coul√©, il affiche 00:00:00:00
   - Le countdown est parfaitement responsive (mobile/tablette/desktop)
   - Compatible avec le syst√®me Synerise existant
-->

</body>
</html>